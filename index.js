(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";function Annotation(e){var t=document.querySelectorAll("[data-filterable-for=assignee-filter-field] .select-menu-item");Array.prototype.forEach.call(t,function(t){var l=t.querySelector('[name="issue[assignee]"]').value,n=t.querySelector(".select-menu-item-icon");n.style.width="32px",n.style.padding="8px 0 8px 6px",e.people[l]&&e.people[l].assigned.length&&(n.classList.remove("octicon-check"),n.classList.add("octicon-git-pull-request"),n.classList.add("open"),n.textContent=" "+e.people[l].assigned.length)})}module.exports=Annotation;
},{}],2:[function(require,module,exports){
var colors=["#abcdef","#31859c","#5a6986","#4886FC","#0579aa","#db5855","#eedd66","#358a5b","#00cafe","#98BAD6","#1957b0","#89e051","#3994bc","#3a4040","#946d57","#7070ff","#46390b","#0095d9","#ae17ff","#6e4a7e","#1E90FF","#467C91","#fcd46d","#f7ede0","#dc566d","#438eff","#ed2cd6","#fcaf3e","#c7a938","#ff0c5a","#82937f","#701516","#b0ce4e","#ca2afe","#343761","#8a0707","#375eab","#945db7","#4F5D95","#aaaaff","#FFCB1F","#e4cc98","#b07219","#7dd3b0","#ed2cd6","#0298c3","#60B5CC","#fa1fa1","#848bf3","#636746","#f7941e","#91de79","#341708","#ee0000","#7891b1","#0098db","#3d9970","#244776","#e44b23","#a54c4d","#ffac45","#555","#6594b9","#fdcd00","#d4bec1","#36699B","#db5855","#dea584","#74283c","#f69e1d","#9DC3FF","#0e60e3","#e4cc98","#cd6400","#fcd7de","#2584c3","#8a1267","#543978","#bd79d1","#2b446d","#e3592c","#1ac620","#02f88c","#c9df40","#004200","#77d9fb","#5a63a3","#6a40fd","#6E4C13","#f0a9f0","#45f715","#ee7d06","#2779ab","#33CCFF","#ff2b2b","#178600","#563d7c","#499886","#44a51c","#066ab2","#cc9900","#b0b77e","#f97732","#f64e3e","#3D6117","#0d3c6e","#f5c800","#755223","#f6a51f","#0298c3","#7b9db4","#3be133","#7582D1","#b0ce4e","#b845fc","#cc5555","#e3491a","#ff9c2e","#dbded5","#118f9e","#596706","#075ff1","#078193","#d80074","#c065db","#f1e05a","#199c4b","#bb92ac","#007eff","#198ce7","#0faf8d","#cc0000","#652B81","#3994bc","#1e4aec","#dbb284","#3581ba","#ce279c","#3fb68b","#A8FF97","#2700e2","#cabbff","#37775b","#0d8921","#8dc63f","#e69f56","#3ebc27","#ccce35","#f3ca0a","#ff0000","#8ad353","#0298c3","#6600cc","#4d41b1","#3a81ad","#cc5c24","#B9D9FF","#ff8877","#bcdc53","#a270ba","#29b544","#a9188d","#cc0088","#f34b7d","#120F14","#cca760","#ffce3b"],position=0;Object.defineProperties(colors,{get:{value:function(){return colors[position++]}},reset:{value:function(){return position=0,colors}}}),module.exports=colors;
},{}],3:[function(require,module,exports){
module.exports={TOKEN:window.HARBOR_MASTER_TOKEN};
},{}],4:[function(require,module,exports){
"use strict";function Graph(){this.people={},this.pullRequests={}}function PullRequest(e,s){return e.number in s.pullRequests?s.pullRequests[e.number]:(this.title=e.title,this.number=e.number,this.assignee=e.assignee?new Person(e.assignee,!1,this,s):null,this.assigner=e.user?new Person(e.user,!0,this,s):null,this.updatedAt=new Date(e.date),void(s.pullRequests[e.number]=this))}function Person(e,s,t,i){if(e.login in i.people){var n=i.people[e.login];return s?n.assigner.push(t):n.assigned.push(t),n}this.id=e.id,this.login=e.login,this.avatarURL=e.avatar_url,this.assigned=s?[]:[t],this.assigner=s?[t]:[],i.people[this.login]=this}Graph.prototype.addPullRequest=function(e){return new PullRequest(e,this)},module.exports=Graph;
},{}],5:[function(require,module,exports){
"use strict";function Histogram(t){return colors.reset(),this.people=Object.keys(t.graph.people).map(function(e){return t.graph.people[e]}).filter(function(t){return t.assigned.length>0}).sort(function(t,e){return t.assigned.length<e.assigned.length?1:-1}),this.totalAssigned=this.people.reduce(function(t,e){return t+e.assigned.length},0),this.totalPullRequests=Object.keys(t.graph.pullRequests).length,this.url="/"+t.owner+"/"+t.repository+"/pulls",this.container=this.createContainer(),this.container.appendChild(this.createDescription()),this.container.appendChild(this.createHistogramContainer()),this.container}var colors=require("./colors");Histogram.prototype.createContainer=function(){var t=document.createElement("div");return t.className="issues-reset-query-wrapper",this.setStyle(t,this.containerStyle),t},Histogram.prototype.createDescription=function(){var t=document.createElement("span");return t.textContent="Assignees:",this.setStyle(t,this.descriptionStyle),t},Histogram.prototype.createHistogramContainer=function(){var t=document.createElement("div");return this.setStyle(t,this.histogramStyle),t.className="pull-request-histogram",this.people.forEach(function(e){t.appendChild(this.createPersonBar(e))},this),this.totalPullRequests-this.totalAssigned>0&&t.appendChild(this.createUnassignedBar()),t},Histogram.prototype.createPersonBar=function(t){var e=document.createElement("a");e.href=this.url+"/assigned/"+t.login,e.className="pull-request-person tooltipped tooltipped-n",e.setAttribute("aria-label",t.login+": "+t.assigned.length+" pull request"+(t.assigned.length>1?"s":"")),this.setStyle(e,this.personBarStyle(t));var s=t.assigned.length/this.totalPullRequests*100;if(s>3){var r=document.createElement("img");r.src=t.avatarURL,r.alt=t.login,e.appendChild(r),this.setStyle(r,this.avatarImageStyle)}return e},Histogram.prototype.createUnassignedBar=function(){var t=document.createElement("a");t.href=this.url+(window.location.search?window.location.search:"?q=is%3Aopen+is%3Apr")+"+no%3Aassignee",t.className="pull-request-unassigned tooltipped tooltipped-n";var e=this.totalPullRequests-this.totalAssigned;return t.setAttribute("aria-label",e+" unassigned pull request"+(e>1?"s":"")),this.setStyle(t,this.unassignedBarStyle()),t},Histogram.prototype.setStyle=function(t,e){Object.keys(e).forEach(function(s){var r=s.split("-"),i=r.shift();r=r.map(function(t){return t.substring(0,1).toUpperCase()+t.substring(1)}),r.unshift(i),t.style[r.join("")]=e[s]})};var height=40;Histogram.prototype.histogramStyle={"border-radius":"3px",height:height+"px","background-color":"#F8F8F8",border:"1px solid #E5E5E5",display:"flex","align-content":"stretch","align-items":"stretch",flex:"1"},Histogram.prototype.descriptionStyle={"padding-right":"10px","font-weight":"bold"},Histogram.prototype.containerStyle={display:"flex","align-items":"center"},Histogram.prototype.avatarImageStyle={width:"30px",height:"30px",margin:"4px",display:"block",border:"1px solid #E5E5E5"},Histogram.prototype.personBarStyle=function(t){return{flex:Math.round(t.assigned.length/this.totalPullRequests*100),"float":"left","background-color":colors.get(),display:"block"}},Histogram.prototype.unassignedBarStyle=function(){return{"min-width":((this.totalPullRequests-this.totalAssigned)/this.totalPullRequests*100).toFixed(2)+"%",display:"block"}},module.exports=Histogram;
},{"./colors":2}],6:[function(require,module,exports){
"use strict";var Page=require("./page"),Histogram=require("./histogram"),Annotation=require("./annotation"),cache={};window.onstatechange=function(e){function t(){if(!document.querySelector(".pull-request-histogram")&&document.querySelector(".table-list-header")&&n.isPullRequests){var e=new Histogram(n),t=document.querySelector(".table-list-header");t.parentNode.insertBefore(e,t)}else{var a=document.querySelector(".sidebar-assignee button.discussion-sidebar-toggle");a.addEventListener("click",function(){new Annotation(n.graph)}),a.click(),a.click()}}var n=new Page(e);(n.isPullRequests||n.isSinglePullRequest)&&(Date.now()-(cache.lastModified||0)>6e4?n.fetchPullRequests().then(function(){cache.lastModified=Date.now(),cache.graph=n.graph,t()},function(e){console.error(e.stack)}):(n.graph=cache.graph,t()))},window.onstatechange(window.location.pathname);
},{"./annotation":1,"./histogram":5,"./page":7}],7:[function(require,module,exports){
"use strict";function Page(e){this.graph=new Graph;for(var t=e.substring(1).split("/"),s=null;t.length;){var r=t.pop();if(this.isPullRequests="pulls"===r,this.isSinglePullRequest="pull"===r,this.isPullRequests||this.isSinglePullRequest){this.isSinglePullRequest&&(this.pullRequestId=s),this.repository=t.pop(),this.owner=t.pop(),this.apiURL=window.location.protocol+"//api.github.com/repos/"+this.owner+"/"+this.repository;break}s=r}}var request=require("./request"),config=require("./config"),Graph=require("./graph");Page.prototype.fetchPullRequests=function(){var e={Authorization:"token "+config.TOKEN},t=this;return request(t.apiURL+"/issues",{query:{state:"open"},headers:e}).then(function(s){var r=(s.headers.Link||"").match(/page=(\d+)>; rel="last"$/);if(r=r&&r.length>1?r[1]:0){for(var i=[s],u=1;r>u;u++)i.push(request(t.apiURL+"/pulls",{query:{state:"open",page:u+1,labels:"Review Requested"},headers:e}));return Promise.all(i)}return[s]}).then(function(e){return e.reduce(function(e,t){return e.concat(t.json)},[]).map(t.graph.addPullRequest,t.graph)})},module.exports=Page;
},{"./config":3,"./graph":4,"./request":8}],8:[function(require,module,exports){
"use strict";function Response(e){this.status=e.status,this.body=e.responseText,this.headers=this.convertHeaders(e.getAllResponseHeaders()),-1!==this.headers["Content-Type"].indexOf("application/json")&&(this.json=JSON.parse(this.body))}function request(e,t){return t||(t={}),new Promise(function(s,n){var r=new XMLHttpRequest;t.query&&(e+="?",Object.keys(t.query).forEach(function(s,n,r){e+=s+"="+t.query[s],n<r.length-1&&(e+="&")})),r.open((t.method||"get").toUpperCase(),e,!0),t.headers&&Object.keys(t.headers).forEach(function(e){r.setRequestHeader(e,t.headers[e])}),r.onload=function(){s(new Response(r))},r.onerror=n,r.send()})}Response.prototype.convertHeaders=function(e){for(var t={},s=e.trim().split("\n").map(function(e){var t=e.trim(),s=t.indexOf(":");return[t.substring(0,s).trim(),t.substring(s+1).trim()]}),n=0,r=s.length;r>n;n++)t[s[n][0]]=s[n][1];return t},module.exports=request;
},{}]},{},[6])


//# sourceMappingURL=bundle.map.json